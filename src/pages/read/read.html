<!--
  Generated template for the ReadPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header [ngClass]="{'hidden': !showBar}" no-border>
  <ion-toolbar color="dark">
    <ion-buttons left>
      <button ion-button icon-only>
        <ion-icon name="ios-arrow-back-outline"></ion-icon>
        返回
      </button>
    </ion-buttons>
    <ion-buttons left padding-horizontal>
      <button ion-button icon-only>
        <ion-icon name="ios-download-outline"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons left>
      <button ion-button icon-only>
        <ion-icon name="ios-headset-outline"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons left padding-horizontal>
      <button ion-button icon-only>
        <ion-icon name="ios-chatboxes-outline"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons left>
      <button class="eye" ion-button icon-left>
        <ion-icon name="md-eye"></ion-icon>
        本章说
      </button>
    </ion-buttons>
    <ion-buttons end>
      <button ion-button icon-only>
        <ion-icon name="md-more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content no-bounce>
  <div class="readCente">
    <div #focus class="focus lineLarge" style="font-size:1.6rem" [ngClass]="{'hidden': (0<where)}">
      <div class="backImg" [ngStyle]="{background: backUrl}">
        <span class="pageNum">
          {{1+'/'+(pageNum+1)}}&nbsp;&nbsp;{{percent}}
        </span>
        <span class="time">
          17:32&nbsp;
        </span>
      </div>
      <article>
        <div class="bookHtml" #containers>
          <div [innerHTML]="article | safeHtml">
          </div>
        </div>
      </article>
    </div>
    <div #focus class="focus lineLarge" style="font-size:1.6rem" [ngClass]="{'hidden': (item.index<where)}" *ngFor="let item of chapterItemArr;index as i" [ngStyle]="{'z-index': 100-item.index}">
      <div class="backImg" [ngStyle]="{background: backUrl}">
        <span class="pageNum">
          {{(i+2)+'/'+(pageNum+1)}}&nbsp;&nbsp;{{percent}}
        </span>
        <span class="time">
          17:32&nbsp;
        </span>
      </div>
      <article [ngStyle]="{left: item.left}">
        <div class="bookHtml">
          <div [innerHTML]="article | safeHtml">
          </div>
        </div>
      </article>
    </div>
  </div>
  <div class="pageCtrl">
    <div class="top" (click)="prev()"></div>
    <div class="left" (click)="prev()"></div>
    <div class="center" (click)="showbar()"></div>
    <div class="right" (click)="next()"></div>
    <div class="bottom" (click)="next()"></div>
  </div>
</ion-content>
<ion-footer [ngClass]="{'hidden': !showBar}" no-border>
  <ion-toolbar>
    <ion-list no-lines no-margin>
      <ion-item class="nextPrev">
        <ion-range min="1" max="500" (ionChange)="change()" [(ngModel)]="saturation" color="danger">
          <ion-label range-left>上一章</ion-label>
          <ion-label range-right>下一章</ion-label>
        </ion-range>
      </ion-item>
    </ion-list>
    <ion-row padding-horizontal>
      <ion-col no-padding text-center>
        <div float-left>
          <div>
            <ion-icon name="ios-list-outline"></ion-icon>
          </div>
          <label class="buttonIcon">目录</label>
        </div>
      </ion-col>
      <ion-col no-padding text-center>
        <div>
          <div>
            <ion-icon name="ios-moon-outline"></ion-icon>
          </div>
          <label class="buttonIcon">夜间模式</label>
        </div>
      </ion-col>
      <ion-col no-padding text-center>
        <div float-right>
          <div>
            <ion-icon name="ios-settings-outline"></ion-icon>
          </div>
          <label class="buttonIcon">设置</label>
        </div>
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-footer>
